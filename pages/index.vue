<!--
    –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ,
    –∫–Ω–æ–ø–∫–∞ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ,
    –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
 -->

<template>
    <v-container fluid>
        <b-navbar>
            <b-navbar-nav>
                <b-nav-item to="/" title="–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ">üè†</b-nav-item>
                <b-nav-item to="/users" title="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏">üë§</b-nav-item>
            </b-navbar-nav>
        </b-navbar>

        <b-table>
            <caption>
                –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ c {{ start }} –ø–æ {{ stop }}
            </caption>
            <b-tbody>
                <b-tr v-for="s in shedules">
                    <b-td>
                        {{ s.start }}-{{ s.stop }}
                    </b-td>
                    <b-td>
                        {{ s }}
                    </b-td>
                </b-tr>
            </b-tbody>
        </b-table>
    </v-container>
</template>

<script>

export default {
    async setup() {

        var start = new Date();
        start.setUTCHours(0, 0, 0, 0);

        var stop = new Date();
        stop.setUTCHours(23, 59, 59, 999);

        const shedules = await useFetch('/api/shedule/', { query: { start: start.toISOString(), stop: stop.toISOString() } })

        return { shedules, start, stop }

    }
}

</script>